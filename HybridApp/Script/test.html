
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
</head>
<script type="text/javascript">
    var imgsrc ;
    let t = 0;
  
    const t2 = async () => {
       await $flex.test2();
    }

    const t3 = async () => {
        const z = await $flex.testAction();
        console.log(z); // {key1: "value1", key2: {subkey2: 1000.1, subkey1: ["dictionaryValue", 0.12]}, key3: ["arrayValue1", 100]}
        console.log(typeof z) // Object
    }
    // when $flex on ready.....
    window.onFlexLoad = function() {
        console.log('Flex Load Success!!');
        $flex.web.help = function(data) {
            console.log('Received by Native ---- ' + data);
            return Promise.resolve('Thanks Flex!')
        }
    }

    const Camera = async () => {
        const result = await $flex.Camera(100, 100);
        console.log(result);
        if(result != 'Cancel'){
            var imgTag = document.createElement("img")
            imgTag.src = 'data:image/png;base64,' + result;
            var imgDiv = document.getElementById('photos');
            imgDiv.appendChild(imgTag)
        }else {
            console.log(result)
        }
    }

    const SinglePhoto = async () => {
        const result = await $flex.SinglePhoto(80, 80);
        if(result != 'Cancel'){
            var imgTag = document.createElement("img")
            imgTag.src = 'data:image/png;base64,' + result;
            var imgDiv = document.getElementById('photos');
            imgDiv.appendChild(imgTag)
        }else {
            console.log(result)
        }
    }

    const MultiplePhotos = async () => {
        const result = await $flex.MultiplePhotos(80, 80);
        if(result != 'Cancel'){
            console.log('Return by Native with MultiplePhotos   : ' + result.length)
            for (var i=0; i<result.length; i++){
                var imgTag = document.createElement("img")
                imgTag.src = 'data:image/png;base64,' + result[i];
                var imgDiv = document.getElementById('photos');
                imgDiv.appendChild(imgTag)
            }
        }else {
            console.log(result)
        }
    }

    const Location = async () => {
        const result = await $flex.Location();

        console.log('Return by Native with Location   : ' + result['latitude'] + ':'+ result['longtitude'])
    }

    const Dialog = async () => {
        
        var btn = [['확인', 'basic'],['취소','cancel'],['삭제','destructive']]
        
        try {
            const result = await $flex.Dialog('testTitle', 'testMessage', btn, 'alert',true);
            console.log('Return by Native with Dialog   : ' + result)
        } catch {
            console.log('Dialog() error 발생')
        }
    }

    const BioAuthentication = async () => {
        try {
            const result = await $flex.BioAuthentication();
            console.log('Return by Native with BioAuthentication   : ' + result)
        } catch {
            console.log('BioAuthentication() error 발생')
        }
    }

    const RootingCheck = async () => {
        try {
            const result = await $flex.RootingCheck();
            console.log('Return by Native with RootingCheck   : ' + result)
        } catch {
            console.log('RootingCheck() error 발생')
        }
    }

    const Network = async () => {
        try {
            const result = await $flex.Network();
            console.log('Return by Native with Network   : ' + result)
        } catch {
            console.log('Network() error 발생')
        }
    }

    const CodeScan = async () => {
        try {
            const result = await $flex.QRCodeScan();
            console.log('Return by Native with QRCodeScan   : ' + result)
        } catch {
            console.log('QRCodeScan() error 발생')
        }
    }

    const NFCReading = async () => {
        try {
            const result = await $flex.NFCReading();
            console.log('Return by Native with NFCReading    : '+ result)
        } catch {
            console.log('NFCReading() error 발생')
        }
    }

    const SendMessage = async () => {
        try {
            const result = await $flex.SendMessage('01099642514','HybridApp에서 보내는 메세지양');
            console.log('Return by Native with NFCReading   : '+ result)
        }catch {
            consoel.log('SendMessage() error 발생')
        }
    }

</script>
<body style="width: 100%; height: 450px;">
<div id = "photos"></div>
<button onclick='t3()' style="width: 100%; height: 150px; font-size : 50px">TestAction</button>
<button onclick='Camera()' style="width: 100%; height: 150px; font-size : 50px">Camera</button>
<button onclick='SinglePhoto()' style="width: 100%; height: 150px; font-size : 50px">SinglePhoto</button>
<button onclick='MultiplePhotos()' style="width: 100%; height: 150px; font-size : 50px">MultiplePhotos</button>
<button onclick='Dialog()' style="width: 100%; height: 150px; font-size : 50px">Dialog</button>
<button onclick='Location()' style="width: 100%; height: 150px; font-size : 50px">Location</button>
<button onclick='BioAuthentication()' style="width: 100%; height: 150px; font-size : 50px">BioAuthentication</button>
<button onclick='RootingCheck()' style="width: 100%; height: 150px; font-size : 50px">RootingCheck</button>
<button onclick='Network()' style="width: 100%; height: 150px; font-size : 50px">Network</button>
<button onclick='CodeScan()' style="width: 100%; height: 150px; font-size : 50px">QRCodeScan</button>
<button onclick='NFCReading()' style="width: 100%; height: 150px; font-size : 50px">NFC Reading</button>
<button onclick='SendMessage()' style="width: 100%; height: 150px; font-size : 50px">SendMessage</button>


</body>
</html>

