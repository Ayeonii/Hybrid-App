
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
</head>
<script type="text/javascript">
    var imgsrc ;

   // when $flex on ready.....
     window.onFlexLoad = function() {
         console.log('Flex Load Success!!');
         $flex.web.help = function(data) {
             console.log('Received by Native ---- ' + data);
             return Promise.resolve('Thanks Flex!')
         }
         $flex.web.result = function(data) {
             console.log(data)
         }
     }

    const Camera = async () => {
        const result = await $flex.Camera(100, 100);
        console.log(result);
         if(result == 'Cancel' || result == null){
                console.log(result)
         }else {
             var imgTag = document.createElement("img")
             imgTag.src = 'data:image/png;base64,' + result;
             var imgDiv = document.getElementById('photos');
             imgDiv.appendChild(imgTag)
         }
    }

    const SinglePhoto = async () => {
        const result = await $flex.SinglePhoto(80, 80);
        if(result == 'Cancel' || result == null){
             console.log(result)
        }else {
           var imgTag = document.createElement("img")
           imgTag.src = 'data:image/png;base64,' + result;
           var imgDiv = document.getElementById('photos');
           imgDiv.appendChild(imgTag)
        }
    }

    const MultiplePhotos = async () => {
        const result = await $flex.MultiplePhotos(80, 80);
        if(result == 'Cancel' || result == null){
            console.log(result)
        }else {
            console.log('Return by Native with MultiplePhotos   : ' + result.length)
            for (var i=0; i<result.length; i++){
                var imgTag = document.createElement("img")
                imgTag.src = 'data:image/png;base64,' + result[i];
                var imgDiv = document.getElementById('photos');
                imgDiv.appendChild(imgTag)
            }
        }
    }

    const Location = async () => {
        const result = await $flex.Location();
        console.log('Return by Native with Location  : ' + result['latitude'] + ':'+ result['longtitude'])
    }

    const Dialog = async () => {
        var btn = {'basic': '확인'
                    ,'destructive' : '삭제'
                    ,'cancel':'취소'}

        try {
            const result = await $flex.Dialog('testTitle', 'testMessage', btn, false ,true);
            console.log('Return by Native with Dialog   : ' + result)
        } catch {
            console.log('Dialog() error 발생')
        }
    }

    const Authentication = async () => {
        try {
            const result = await $flex.Authentication();
            console.log('Return by Native with Authentication   : ' + result)
        } catch {
            console.log('Authentication() error 발생')
        }
    }

    const RootingCheck = async () => {
        try {
            const result = await $flex.RootingCheck();
            console.log('Return by Native with RootingCheck   : ' + result)
        } catch {
            console.log('RootingCheck() error 발생')
        }
    }

    const Network = async () => {
        try {
            const result = await $flex.Network();
            console.log('Return by Native with Network   : ' + result)

        } catch {
            console.log('Network() error 발생')
        }
    }

    const QRCodeScan = async () => {
        try {
            const result = await $flex.QRCodeScan();
            console.log('Return by Native with QRCodeScan   : ' + result)
        } catch {
            console.log('QRCodeScan() error 발생')
        }
    }

    const NFCReading = async () => {
        try {
            const result = await $flex.NFCReading();
            console.log('Return by Native with NFCReading    : '+ result)
        } catch {
            console.log('NFCReading() error 발생')
        }
    }

    const SendSMS = async () => {
        try {
            const result = await $flex.SendSMS('01099642514','HybridApp에서 보내는 메세지양');
            console.log('Return by Native with NFCReading   : '+ result)
        }catch {
            consoel.log('SendMessage() error 발생')
        }
    }

    const Notification = async () => {
        try {
            var badge = 1
            const result = await $flex.Notification('testTitle', '', 'Body임', badge, '식별자이아연',false, 5);
            console.log('Return by Native with Notification   : '+ result)
        }catch {
            consoel.log('Notification() error 발생')
        }
    }

    const FileDownload = async () => {
        try {
            const result = await $flex.FileDownload("http://www.alessioatzeni.com/wp-content/themes/az/_include/metrize/custom/metrize-icons/download/Metrize_Icons.zip");
            console.log('Return by Native with FileDownload   : '+ result)
        }catch {
            consoel.log('FileDownload() error 발생')
        }
    }

    const LocalRepository = async (mode, forKey, value) => {
        try {
            const result = await $flex.LocalRepository(mode, forKey, value);
            console.log('Return by Native with UserDefault   : '+ result)
        }catch {
            consoel.log('UserDefault() error 발생')
        }
    }

    const UniqueAppID = async () => {
        try {
            const result = await $flex.UniqueAppID();
            console.log('Return by Native with UniqueAppID   : '+ result)
        }catch {
            consoel.log('UniqueAppID() error 발생')
        }
    }

    const UniqueDeviceID = async () => {
        try {
            const result = await $flex.UniqueDeviceID();
            console.log('Return by Native with UniqueDeviceID   : '+ result)
        }catch {
            consoel.log('UniqueDeviceID() error 발생')
        }
    }

    const WebPopup = async () => {
        try {
            const result = await $flex.WebPopup( true, "https://www.naver.com", 0.5, 0.5);
               console.log('Return by Native with WebPopup   : '+ result)
           }catch {
               consoel.log('WebPopup() error 발생')
           }
    }

    const Record = async () => {
        try {
            const result = await $flex.Record();
            console.log('Return by Native with Record   : '+ result)
        }catch {
            consoel.log('Record() error 발생')
        }
    }

const Toast = async (message, isShort) => {
    try {
        const result = await $flex.Toast(message, true);
        console.log('Return by Native with Toast   : '+ result)
    }catch {
        consoel.log('Toast() error 발생')
    }
}


</script>
<body style="width: 100%; height: 450px;">
    <div id = "photos"></div>
    <div id = 'attachFile' style = "backrground-color : blue;">
        <input type='file' id = 'fileName' style="width: 100%; height: 200px; font-size : 50px; align-text : center;"/>
    </div>
    <button onclick="Toast('짧은토스트', true)" style="font-size: 50px; width: 100%; height: 150px;"> ShortToast</button>
    <button onclick="Toast('긴토스트', false)" style="font-size: 50px; width: 100%; height: 150px;"> LongToast</button>
    <button onclick="WebPopup()" style="font-size: 50px; width: 100%; height: 150px;"> Popup</button>
    <button onclick='Camera()' style="width: 100%; height: 150px; font-size : 50px">Camera</button>
    <button onclick='SinglePhoto()' style="width: 100%; height: 150px; font-size : 50px">SinglePhoto</button>
    <button onclick='MultiplePhotos()' style="width: 100%; height: 150px; font-size : 50px">MultiplePhotos</button>
    <button onclick='Dialog()' style="width: 100%; height: 150px; font-size : 50px">Dialog</button>
    <button onclick='Location()' style="width: 100%; height: 150px; font-size : 50px">Location</button>
    <button onclick='Authentication()' style="width: 100%; height: 150px; font-size : 50px">Authentication</button>
    <button onclick='RootingCheck()' style="width: 100%; height: 150px; font-size : 50px">RootingCheck</button>
    <button onclick='Network()' style="width: 100%; height: 150px; font-size : 50px">Network</button>
    <button onclick='QRCodeScan()' style="width: 100%; height: 150px; font-size : 50px">QRCodeScan</button>
    <button onclick='NFCReading()' style="width: 100%; height: 150px; font-size : 50px">NFC Reading</button>
    <button onclick='SendSMS()' style="width: 100%; height: 150px; font-size : 50px">SendSMS</button>
    <button onclick='Notification()' style="width: 100%; height: 150px; font-size : 50px">Notification</button>
    <button onclick='FileDownload()' style="font-size: 50px; width: 100%; height: 150px;">FileDownload</button>
    <button onclick="UserDefault('SET', 'TEST2', ['LeeAyeon' , 'she is so Lovely!', 'Ayeon' , 'she is so Bright!'])" style="font-size: 50px; width: 100%; height: 150px;">UserSet</button>
    <button onclick="UserDefault('GET', 'TEST2', null)" style="font-size: 50px; width: 100%; height: 150px;">UserGet</button>
    <button onclick="UserDefault('DELETE', 'TEST2', null)" style="font-size: 50px; width: 100%; height: 150px;">UserDelete</button>
    <button onclick="UniqueAppID()" style="font-size: 50px; width: 100%; height: 150px;"> AppUUID</button>
    <button onclick="UniqueDeviceID()" style="font-size: 50px; width: 100%; height: 150px;"> UniqueDeviceID</button>
</body>
</html>

