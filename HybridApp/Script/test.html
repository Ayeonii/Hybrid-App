
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
</head>
<script type="text/javascript">
    var imgsrc ;
    let t = 0;

   // when $flex on ready.....
     window.onFlexLoad = function() {
         console.log('Flex Load Success!!');
         $flex.web.help = function(data) {
             console.log('Received by Native ---- ' + data);
             return Promise.resolve('Thanks Flex!')
         }
         $flex.web.result = function(data) {
             console.log(data)
         }
     }
  
    const t2 = async () => {
       await $flex.test2();
    }

    const t3 = async () => {
        const z = await $flex.testAction();
        console.log(z); // {key1: "value1", key2: {subkey2: 1000.1, subkey1: ["dictionaryValue", 0.12]}, key3: ["arrayValue1", 100]}
        console.log(typeof z) // Object
    }
   

    const Camera = async () => {
        const result = await $flex.Camera(100, 100);
        console.log(result);
        if(result != 'Cancel'){
            var imgTag = document.createElement("img")
            imgTag.src = 'data:image/png;base64,' + result;
            var imgDiv = document.getElementById('photos');
            imgDiv.appendChild(imgTag)
        }else {
            console.log(result)
        }
    }

    const SinglePhoto = async () => {
        const result = await $flex.SinglePhoto(80, 80);
        if(result != 'Cancel'){
            var imgTag = document.createElement("img")
            imgTag.src = 'data:image/png;base64,' + result;
            var imgDiv = document.getElementById('photos');
            imgDiv.appendChild(imgTag)
        }else {
            console.log(result)
        }
    }

    const MultiplePhotos = async () => {
        const result = await $flex.MultiplePhotos(80, 80);
        if(result != 'Cancel'){
            console.log('Return by Native with MultiplePhotos   : ' + result.length)
            for (var i=0; i<result.length; i++){
                var imgTag = document.createElement("img")
                imgTag.src = 'data:image/png;base64,' + result[i];
                var imgDiv = document.getElementById('photos');
                imgDiv.appendChild(imgTag)
            }
        }else {
            console.log(result)
        }
    }

    const Location = async () => {
        const result = await $flex.Location();

        console.log('Return by Native with Location   : ' + result['latitude'] + ':'+ result['longtitude'])
    }

    const Dialog = async () => {
        
        var btn = [['확인', 'basic'],['취소','cancel'],['삭제','destructive']]
        
        try {
            const result = await $flex.Dialog('testTitle', 'testMessage', btn, 'alert',true);
            console.log('Return by Native with Dialog   : ' + result)
        } catch {
            console.log('Dialog() error 발생')
        }
    }

    const BioAuthentication = async () => {
        try {
            const result = await $flex.BioAuthentication();
            console.log('Return by Native with BioAuthentication   : ' + result)
        } catch {
            console.log('BioAuthentication() error 발생')
        }
    }

    const RootingCheck = async () => {
        try {
            const result = await $flex.RootingCheck();
            console.log('Return by Native with RootingCheck   : ' + result)
        } catch {
            console.log('RootingCheck() error 발생')
        }
    }

    const Network = async () => {
        try {
            const result = await $flex.Network();
            console.log('Return by Native with Network   : ' + result)
        } catch {
            console.log('Network() error 발생')
        }
    }

    const CodeScan = async () => {
        try {
            const result = await $flex.QRCodeScan();
            console.log('Return by Native with QRCodeScan   : ' + result)
        } catch {
            console.log('QRCodeScan() error 발생')
        }
    }

    const NFCReading = async () => {
        try {
            const result = await $flex.NFCReading();
            console.log('Return by Native with NFCReading    : '+ result)
        } catch {
            console.log('NFCReading() error 발생')
        }
    }

    const SendMessage = async () => {
        try {
            const result = await $flex.SendMessage('01099642514','HybridApp에서 보내는 메세지양');
            console.log('Return by Native with NFCReading   : '+ result)
        }catch {
            consoel.log('SendMessage() error 발생')
        }
    }

    const Notification = async () => {
        try {
            var badge = 1
            const result = await $flex.Notification('testTitle', 'testSubTitle', 'Body임', badge,    '식별자이아연',false, 5);
            console.log('Return by Native with Notification   : '+ result)
        }catch {
            consoel.log('Notification() error 발생')
        }
    }

    const FileDownload = async () => {
        try {
            const result = await $flex.FileDownload("http://www.alessioatzeni.com/wp-content/themes/az/_include/metrize/custom/metrize-icons/download/Metrize_Icons.zip");
            console.log('Return by Native with FileDownload   : '+ result)
        }catch {
            consoel.log('FileDownload() error 발생')
        }
    }

    const UserDefault = async (mode, forKey, value) => {
        try {
            const result = await $flex.UserDefault(mode, forKey, value);
            console.log('Return by Native with UserDefault   : '+ result)
        }catch {
            consoel.log('UserDefault() error 발생')
        }
    }

    const AppUUID = async () => {
        try {
            const result = await $flex.AppUUID();
            console.log('Return by Native with AppUUID   : '+ result)
        }catch {
            consoel.log('AppUUID() error 발생')
        }
    }

    const DeviceUUID = async () => {
        try {
            const result = await $flex.DeviceUUID();
            console.log('Return by Native with DeviceUUID   : '+ result)
        }catch {
            consoel.log('DeviceUUID() error 발생')
        }
    }

    function WebPopup (){
        window.open("popup.html", "", "toolbar=yes,scrollbars=yes,resizable=yes,top=500,left=500,width=400,height=400");
    }


</script>
<body style="width: 100%; height: 450px;">
<div id = "photos"></div>
<button onclick='t2()' style="width: 100%; height: 150px; font-size : 50px">Test2</button>
<button onclick='t3()' style="width: 100%; height: 150px; font-size : 50px">TestAction</button>
<button onclick='Camera()' style="width: 100%; height: 150px; font-size : 50px">Camera</button>
<button onclick='SinglePhoto()' style="width: 100%; height: 150px; font-size : 50px">SinglePhoto</button>
<button onclick='MultiplePhotos()' style="width: 100%; height: 150px; font-size : 50px">MultiplePhotos</button>
<button onclick='Dialog()' style="width: 100%; height: 150px; font-size : 50px">Dialog</button>
<button onclick='Location()' style="width: 100%; height: 150px; font-size : 50px">Location</button>
<button onclick='BioAuthentication()' style="width: 100%; height: 150px; font-size : 50px">BioAuthentication</button>
<button onclick='RootingCheck()' style="width: 100%; height: 150px; font-size : 50px">RootingCheck</button>
<button onclick='Network()' style="width: 100%; height: 150px; font-size : 50px">Network</button>
<button onclick='CodeScan()' style="width: 100%; height: 150px; font-size : 50px">QRCodeScan</button>
<button onclick='NFCReading()' style="width: 100%; height: 150px; font-size : 50px">NFC Reading</button>
<button onclick='SendMessage()' style="width: 100%; height: 150px; font-size : 50px">SendMessage</button>
<button onclick='Notification()' style="width: 100%; height: 150px; font-size : 50px">Notification</button>
<button onclick='FileDownload()' style="font-size: 50px; width: 100%; height: 150px;">FileDownload</button>
<div id = 'attachFile' style="width: 100%; height: 200px; font-size : 50px; margin : 0 auto;">
    <input type='file' id = 'fileName' style="width: 100%; height: 200px; font-size : 50px; margin-top : 50;"/>
</div>
<button onclick="UserDefault('SET', 'TEST2', ['LeeAyeon' , 'she is so Lovely!', 'Ayeon' , 'she is so Bright!'])" style="font-size: 50px; width: 100%; height: 150px;">UserSet</button>
<button onclick="UserDefault('GET', 'TEST2', null)" style="font-size: 50px; width: 100%; height: 150px;">UserGet</button>
<button onclick="UserDefault('DELETE', 'TEST2', null)" style="font-size: 50px; width: 100%; height: 150px;">UserDelete</button>
<button onclick="AppUUID()" style="font-size: 50px; width: 100%; height: 150px;"> AppUUID</button>
<button onclick="DeviceUUID()" style="font-size: 50px; width: 100%; height: 150px;"> DeviceUUID</button>
<button onclick="WebPopup()" style="font-size: 50px; width: 100%; height: 150px;"> Popup</button>

</body>
</html>

