
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
</head>
<script type="text/javascript">
    let t = 0;
    const t1 = async () => {
        console.log('Send to Native --- ' + t);
        const z = await $flex.test1(t);
        console.log('Return by Native with t1 --- ' + z);
        t = z;
    }
    const t2 = async () => {
       await $flex.test2();
    }

    const t3 = async () => {
        const z = await $flex.testAction();
        console.log(z); // {key1: "value1", key2: {subkey2: 1000.1, subkey1: ["dictionaryValue", 0.12]}, key3: ["arrayValue1", 100]}
        console.log(typeof z) // Object
    }
    // when $flex on ready.....
    window.onFlexLoad = function() {
        console.log('Flex Load Success!!');
        $flex.web.help = function(data) {
            console.log('Received by Native ---- ' + data);
            return Promise.resolve('Thanks Flex!')
        }
    }

    const Camera = async () => {
        const result = await $flex.Camera(t);
        console.log('Return by Native with Camera : ' + result);
    }

    const Photos = async () => {
        const result = await $flex.Photos();
        console.log('Return by Native with Photos   : ' + result)
    }

    const Location = async () => {
        const result = await $flex.Location();

        console.log('Return by Native with Location   : ' + result['latitude'] + ':'+ result['longtitude'])
    }

    const Dialog = async () => {
        var btn = {
            '확인' : 'basic'
            ,'취소' : 'cancel'
            ,'삭제' : 'destructive'
        }
        
        try {
            const result = await $flex.Dialog('testTitle', 'testMessage', btn, 'alert',true);
            console.log('Return by Native with Dialog   : ' + result)
        } catch {
            console.log('Dialog() error 발생')
        }
    }

    const BioAuth = async () => {
        try {
            const result = await $flex.BioAuth();
            console.log('Return by Native with BioAuth   : ' + result)
        } catch {
            console.log('BioAuth() error 발생')
        }
    }

    const CheckRooting = async () => {
        try {
            const result = await $flex.CheckRooting();
            console.log('Return by Native with CheckRooting   : ' + result)
        } catch {
            console.log('CheckRooting() error 발생')
        }
    }

</script>
<body style="width: 100%; height: 450px;">
<button onclick='t1()' style="width: 100%; height: 150px; font-size : 50px">TEST1</button>
<button onclick='t2()' style="width: 100%; height: 150px; font-size : 50px">TEST2</button>
<button onclick='t3()' style="width: 100%; height: 150px; font-size : 50px">TestAction</button>
<button onclick='Camera()' style="width: 100%; height: 150px; font-size : 50px">Camera</button>
<button onclick='Photos()' style="width: 100%; height: 150px; font-size : 50px">Photos</button>
<button onclick='Dialog()' style="width: 100%; height: 150px; font-size : 50px">Dialog</button>
<button onclick='Location()' style="width: 100%; height: 150px; font-size : 50px">Location</button>
<button onclick='BioAuth()' style="width: 100%; height: 150px; font-size : 50px">BioAuth</button>
<button onclick='CheckRooting()' style="width: 100%; height: 150px; font-size : 50px">CheckRooting</button>
</body>
</html>

